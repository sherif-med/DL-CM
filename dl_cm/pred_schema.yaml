# Define the root keys with their types

datamodule:
  name: registered_datamodule()
  params:
    preprocessing:
      apply: bool(required=False)
      name: registered_transformation(required=False)
      params: map(any(), required=False)
    datasets: list(include('dataset'))
    common_dataloader_params: map(key=str(), required=False)
    dataloaders: map(include('dataloader'), key=enum("train", "valid", "test", "predict"))
    extra: map(any(), required=False)

trainer:
  params: map(any(), required=False)
  callbacks: list(include('callback'))

# Define reusable components
---
dataset:
  name: registered_dataset()
  reference_name: str(required=False)
  params: map(any(), required=False)

dataloader:
  name: str()
  params: map(any(), required=False)

callback:
  name: registered_callback()
  params: map(any(), required=False)

logger:
  name: registered_logger()
  params: map(any(), required=False)

learner:
  name: registered_learner()
  params: map(any(), required=False)

model:
  name: registered_model()
  params: map(any(), required=False)

named_entity:
  name: str()
  params: map(any(), required=False)
